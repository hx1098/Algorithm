[TOC]

## 1.热点规则
什么是热点数据? 热点就是经常访问的数据,很多时候我们希望统计某个热点数据中访问频次最高的 Top K 数据，并对其访问进行限制。

















## 2.系统规则

系统规则理解很简单, 即系统级别的规则, 只要你来我这边的请求, 都需要遵守的, 基本上就一个阈值设置好就可以了.

1. **LOAD** : （仅对 Linux/Unix-like 机器生效）：当系统 load1 超过阈值，且系统当前的并发线程数超过系统容量时才会触发系统保护。系统容量由系统的 `maxQps * minRt` 计算得出。设定参考值一般是 `CPU cores * 2.5`。
2. **RT**(**Round Trip Time响应时间**): 单台机器上所有入口流量的平均 RT 达到阈值即触发系统保护，单位是毫秒。
3. **线程数:** 当单台机器上所有入口流量的并发线程数达到阈值即触发系统保护。
4. **入口QPS**: 当单台机器上所有入口流量的 QPS 达到阈值即触发系统保护。
5. **CPU使用率**: 当系统 CPU 使用率超过阈值即触发系统保护（取值范围 0.0-1.0）

![image-20211223170538205](https://cdn.jsdelivr.net/gh/hx1098/Algorithm@master/img/nacos/20211223170545.png)    

