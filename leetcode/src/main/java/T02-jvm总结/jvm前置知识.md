

### 1.什么是垃圾对象?

#### 1.引用计数法: 

使用引用计数法的会产生循环引用的情况, 但是理论上应该被回收的, 但是有没有对象可以对他进行调用., 引用计数法默认引用还是大于0 的,不会被回收.

#### 2.根可达算法

gcroots 定义的 局部变量, 静态变量, 常量, jni指针 这些是根

然后从这写变量中间找可达性关系. 如图中所示的: 其中箭号可达的就是不能回收的, 他就是一种链路关系图

![image-20211010091909749](https://cdn.jsdelivr.net/gh/hx1098/Algorithm@master/img/jvm/20211010101546.png)



### 2.垃圾回收算法

#### 1.标记清除

会产生内存碎片, 造成不连续的现象, 大对象无法进行分配(java中分配大对象需要占据连续的内存空间)

#### 2.标记压缩



#### 3.复制算法

复制就需要开辟两个一模一样的大小的空间, 将标记的东西整理到另一个区域, 剩下的就滚吧.

![image-20211010101823999](https://cdn.jsdelivr.net/gh/hx1098/Algorithm@master/img/jvm/20211010101824.png)



### 3.垃圾回收模型

#### 1.分代模型

前面六个是数据分代模型

#### 2.分区模型

后面四个属于分区模型

![image-20211010214635624](https://cdn.jsdelivr.net/gh/hx1098/Algorithm@master/img/jvm/20211010214635.png)



分代模型与分区模型

分代模型: 新生代:复制算法，老年代：标记整理，标记清除算法

![image-20211010214938921](https://cdn.jsdelivr.net/gh/hx1098/Algorithm@master/img/jvm/20211010214939.png)





